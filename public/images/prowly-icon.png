"use client";

import { useEffect } from "react";
import Image from "next/image";

export default function Page() {
  useEffect(() => {
    const downloadLogo = async () => {
      try {
        const response = await fetch(
          "https://images.unsplash.com/photo-1560472355-536de3962603?w=1470&q=80"
        );
        const blob = await response.blob();
        
        // Create temporary download link
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "prowly-logo.png";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      } catch (error) {
        console.error("Failed to download logo:", error);
      }
    };

    downloadLogo();
  }, []);

  return (
    <div className="min-h-screen bg-primary-white flex items-center justify-center">
      <div className="text-center">
        <div className="mb-6">
          <div className="w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-purple-accent to-yellow-accent rounded-full animate-pulse" />
          <h1 className="text-hero-heading mb-2">Prowly</h1>
          <p className="text-gray-medium text-body">Logo downloader</p>
        </div>
        <p className="text-gray-medium">
          Downloading logo to your device...
        </p>
      </div>
    </div>
  );
}